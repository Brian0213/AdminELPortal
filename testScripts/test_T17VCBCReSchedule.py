import time
import sys
import pytest
from selenium.webdriver.common.by import By

from Pages.DFCPage import DfcPage
from Pages.VCBCPage import VCBCPage
from Pages.LoginPage import LoginPage
from testScripts.base_test import BaseTest
from utility.readProperties import ReadConfig
from utility.customLogger import LogGen

class Test_VCBC_Learner_ReSchedule:

    baseURL = ReadConfig.getApplicationURL()
    usernameL = ReadConfig.getUseremailL()
    passwordL = ReadConfig.getPasswordL()

    logger = LogGen.loggen()

    @pytest.mark.order(1)
    def test_login(self, setup):
        self.elportal = setup
        self.logger.info("******** Verifying Login Test ********")
        self.logger.info("******** Call the Browse Configuration ********")
        self.elportal.implicitly_wait(10)
        self.logger.info("******** Launch the Application URL ********")
        self.elportal.get(self.baseURL)
        self.logger.info("******** Define the LoginPage Driver ********")
        self.elp = LoginPage(self.elportal)
        self.vcb = VCBCPage(self.elportal)
        self.logger.info("******** Click the Home Button ********")
        self.elp.clickHomeButton()
        self.logger.info("******** Enter the Username ********")
        self.elp.emailAddress(self.usernameL)
        self.logger.info("******** Enter the Password ********")
        self.elp.setPassword(self.passwordL)
        self.logger.info("******** Click the Sign in Button********")
        self.elp.clickSignin()
        self.logger.info("******** Click the Learner's My VCBC Menu********")
        self.vcb.btnLearnerVCBC()
        self.logger.info("******** Click the VCBC pick********")  # Update the VCBC pick before execution
        self.vcb.learnerReSchedule()
        self.logger.info("******** Click the VCBC Date Field********")
        self.vcb.fieldLearnerSlot()
        self.logger.info("******** Learner Selects Preferred Date********")
        self.vcb.learnerSlot2()                                 # Update the VCBC pick date before execution
        self.logger.info("******** Learner Clicks the Schedule Button********")
        self.vcb.learnerSlotReSchedule()
        self.logger.info("******** Close the Browser********")
        self.elportal.quit()
        self.logger.info("**********Learner VCBC Schedule Test is Successful********")








